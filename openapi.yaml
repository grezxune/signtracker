openapi: 3.1.0
info:
  title: SignTracker API
  version: 0.1.0
paths:
  /api/convex/token:
    get:
      summary: Issue Convex access token for authenticated NextAuth session
      responses:
        '200':
          description: Token issued
          content:
            application/json:
              schema:
                type: object
                required: [token]
                properties:
                  token:
                    type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                required: [error]
                properties:
                  error:
                    type: string
        '500':
          description: Token issuance failure
          content:
            application/json:
              schema:
                type: object
                required: [error]
                properties:
                  error:
                    type: string
